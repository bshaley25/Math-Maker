(this.webpackJsonpmathmakerfrontend=this.webpackJsonpmathmakerfrontend||[]).push([[0],{19:function(e,t,a){e.exports=a(33)},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),s=a.n(o),i=(a(24),a(17)),c=a(14),l=a(15),u=a(16),d=a(18),m=(a(25),a(1)),h=function(e){var t=e.position,a=e.value,n=e.updateCell;e.touchValue,e.handleTouchValue;return r.a.createElement("div",{id:t,draggable:!0,onDrop:function(e){e.preventDefault();var a=e.dataTransfer.getData("card_value");n(t,a)},onDragStart:function(e){var t=e.target;e.dataTransfer.setData("card_value",t.innerText),e.target.innerText=""},onDragOver:function(e){e.preventDefault()},onClick:function(e){return function(e){var t=e.target.className;switch(e.target.className=""===t?"line":"",t){case"":e.target.className="line";break;case"line":e.target.className="strikethrough";break;default:e.target.className=""}}(e)}},a)},g=(a(26),function(e){var t=e.gridData,a=e.updateCell,o=e.columns,s=e.rows,i=e.size,c=Object(n.useState)(""),l=Object(m.a)(c,2),u=l[0],d=l[1],g=function(e){d(e)},p=t.map((function(e){return r.a.createElement(h,Object.assign({key:e.position},e,{updateCell:a,touchValue:u,handleTouchValue:g}))}));return r.a.createElement("div",{id:"grid",className:"grid",style:{display:"grid",gridTemplateColumns:"repeat(".concat(o,", ").concat(i,"rem)"),gridTemplateRows:"repeat(".concat(s,", ").concat(i,"rem)")}},p)}),p=function(e){var t=e.id,a=e.children;return r.a.createElement("div",{id:t,draggable:!0,onDragStart:function(e){var t=e.target;t.style.color="red",t.style.width=0,t.style.height=0,t.style.margin="auto",e.dataTransfer.setData("card_value",t.innerText)},onDragOver:function(e){e.preventDefault()},onDragEnd:function(e){var t=e.target;t.style.color="black",t.style.width="4rem",t.style.height="4rem",t.style.margin=0}},a)},f=(a(27),function(){for(var e=[],t=1;t<10;t++)e.push(r.a.createElement(p,{key:t},t));return r.a.createElement("div",{className:"calculator"},r.a.createElement("div",{className:"numbers"},e,r.a.createElement(p,{id:"zero"},"0")),r.a.createElement("div",{className:"symbols"},r.a.createElement(p,null," . "),r.a.createElement(p,null," + "),r.a.createElement(p,null," - "),r.a.createElement(p,null," \xd7 "),r.a.createElement(p,null," \xf7 "),r.a.createElement(p,null," / "),r.a.createElement(p,null," = ")))});function v(e){var t=e.gridData,a=e.updateCell,n=e.columns,o=e.rows,s=e.size;return r.a.createElement("main",null,r.a.createElement(f,null),r.a.createElement(g,{gridData:t,updateCell:a,columns:n,rows:o,size:s}))}var E=a(8),k=a.n(E),S=(a(28),function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(""),i=Object(m.a)(s,2),c=i[0],l=i[1],u=a?"modal show":"modal hidden";return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){o(!0),k()(document.getElementById("grid")).then((function(e){l(e.toDataURL())}))}},"Take Picture"),r.a.createElement("div",{className:u},r.a.createElement("section",null,r.a.createElement("img",{id:"image",src:c,alt:"MathMaker.png"}),r.a.createElement("a",{href:c,download:"MathMaker.png"},"Click To Download"),r.a.createElement("button",{onClick:function(){o(!1)}}," click to close"))))}),b=a(5),w=a.n(b),D=a(10),C=(a(30),function(e){var t=e.changePage,a=e.loginUsername,o=e.changeToken,s=Object(n.useState)(!0),i=Object(m.a)(s,2),c=i[0],l=i[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),h=d[0],g=d[1],p=Object(n.useState)(""),f=Object(m.a)(p,2),v=f[0],E=f[1],k=Object(n.useState)(""),S=Object(m.a)(k,2),b=S[0],C=S[1],G=function(){var e=Object(D.a)(w.a.mark((function e(n){var r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:r=e.sent,localStorage.setItem("token",r.token),a(r.username),g(""),E(""),t("main"),o();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(D.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,n=a.message,C(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login-card"},r.a.createElement("h1",null,c?"Log-in":"Sign-up"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch(c?"https://mathmaker.herokuapp.com/login":"https://mathmaker.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:h,password:v})}).then((function(e){200===e.status||201===e.status?G(e):O(e)}))}},r.a.createElement("input",{type:"text",name:"user",placeholder:"Username",value:h,onChange:function(e){return g(e.target.value)}}),r.a.createElement("input",{type:"password",name:"pass",placeholder:"Password",value:v,onChange:function(e){return E(e.target.value)}}),r.a.createElement("input",{type:"submit",name:"login",className:"login login-submit",value:c?"Log-in":"Sign-up"})),r.a.createElement("h3",null,c?"Dont have an acount?":"Have an Account?",r.a.createElement("button",{onClick:function(){return l(!c)}},c?"Sign-up":"Log-in")),b?r.a.createElement("h2",{className:"error"},b):null)}),G=function(e){var t=e.grid,a=e.loadSavedGrid,n=e.deleteGrid;return r.a.createElement("section",{className:"card"},t.id,r.a.createElement("button",{onClick:function(){var e=JSON.parse(t.data);a(t.colums,t.rows,e,t.id)}},"Edit"),r.a.createElement("button",{onClick:function(e){e.preventDefault(),n(t.id)}},"Delete"))},O=function(e){var t=e.savedGrids,a=e.loadSavedGrid,n=e.deleteGrid,o=t.map((function(e,t){return r.a.createElement(G,{key:t,grid:e,loadSavedGrid:a,deleteGrid:n})}));return r.a.createElement("main",{className:"dashboard"},o)},y=function(e){var t=e.saveGrid,a=e.saveAsNewGrid,n=e.changePage,o=e.page,s=e.gridID;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement("button",{onClick:t},"SAVE"):r.a.createElement("button",{onClick:a},"CREATE NEW"),"main"===o?r.a.createElement("button",{onClick:function(){return n("dashboard")}},"DASHBOARD"):r.a.createElement("button",{onClick:function(){return n("main")}},"MAIN"))},j=a(7),N=a.n(j);a(34);N.a.initializeApp({apiKey:"AIzaSyDof42A6x_sGp3Oi9u1oKuDpQJV-QJGRUs",authDomain:"mathmaker-90e12.firebaseapp.com",databaseURL:"https://mathmaker-90e12.firebaseio.com",projectId:"mathmaker-90e12",storageBucket:"mathmaker-90e12.appspot.com",messagingSenderId:"216555215409",appId:"1:216555215409:web:b1266161aa69d8c564d310"});N.a.storage();var T=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={page:"main",hasToken:null,user:null,savedGrids:[],gridID:null,gridData:[],columns:15,rows:15,size:2,BASE_URL:"https://mathmaker.herokuapp.com"},e.fetchGrids=function(){fetch("https://mathmaker.herokuapp.com/grids",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){return e.json()})).then((function(t){e.setState({user:t.user}),e.setState({savedGrids:t.grids})}))},e.createGrid=function(){for(var t=e.state.columns,a=e.state.rows,n=[],r=0;r<t*a;r++){var o=r%t,s=Math.floor(r/t),i="".concat(o,",").concat(s);n[r]={position:i,value:""}}e.setState({gridData:n})},e.plusOneColumn=function(){var t=e.state.columns,a=t+1;e.updategridColumns(a,t),e.setState({columns:a})},e.minusOneColumn=function(){var t=e.state.columns,a=t-1;e.updategridColumns(a,t),e.setState({columns:a})},e.updategridColumns=function(t,a){var n=e.state.gridData,r=e.state.rows,o=[];if(t-a>0)for(var s=0,i=0;i<a*r;i++)if((i+1)%a===0){var c="".concat(t-1,",").concat(s);o.push(n[i]),o.push({position:c,value:""}),s++}else o.push(n[i]);else if(t-a<0)for(var l=0;l<a*r;l++)(l+1)%a===0||o.push(n[l]);e.setState({gridData:o})},e.plusOneRow=function(){var t=e.state.rows,a=t+1;e.updategridRows(a,t),e.setState({rows:a})},e.minusOneRow=function(){var t=e.state.rows,a=t-1;e.updategridRows(a,t),e.setState({rows:a})},e.updategridRows=function(t,a){var n=e.state.gridData,r=e.state.columns,o=[];if(t>a)for(var s=0;s<t*r;s++){var i="".concat(s%r,",").concat(t-1);n[s]?o.push(n[s]):o.push({position:i,value:""})}else t<a&&(o=n.slice(0,-1*r));e.setState({gridData:o})},e.resizeGrid=function(t){e.setState({size:t.target.value})},e.updateCell=function(t,a){var n=e.state.gridData.map((function(e){return e.position===t?{position:t,value:a}:e}));e.setState({gridData:n})},e.saveAsNewGrid=function(t){t.preventDefault(),fetch("https://mathmaker.herokuapp.com/grids",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},body:JSON.stringify({columns:e.state.columns,rows:e.state.rows,gridData:e.state.gridData})}).then((function(e){return e.json()})).then((function(t){e.setState({savedGrids:[].concat(Object(i.a)(e.state.savedGrids),[t[0]]),gridID:t[0].id})}))},e.saveGrid=function(t){t.preventDefault(),fetch("https://mathmaker.herokuapp.com/grids/".concat(e.state.gridID),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},body:JSON.stringify({columns:e.state.columns,rows:e.state.rows,gridData:e.state.gridData})}).then((function(e){return e.json()})).then((function(t){var a=e.state.savedGrids.filter((function(e){return e.id!==t[0].id})).concat(t);e.setState({savedGrids:a})}))},e.deleteGrid=function(t){var a=e.state.savedGrids.filter((function(e){return e.id!==t}));e.setState({savedGrids:a}),fetch("https://mathmaker.herokuapp.com/grids/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){return 204===e.status?console.log("Delete Successful"):console.log("Didnt work")}))},e.changePage=function(t){e.setState({page:t})},e.loginUsername=function(t){e.setState({user:t})},e.changeToken=function(){e.setState({hasToken:!0})},e.loadSavedGrid=function(t,a,n,r){e.setState({gridData:n}),e.setState({columns:t}),e.setState({rows:a}),e.setState({gridID:r}),e.setState({page:"main"})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.createGrid(),localStorage.token?(this.setState({hasToken:!0}),this.fetchGrids()):this.setState({hasToken:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Welcome ",this.state.user),r.a.createElement("nav",{className:"toolbar"},this.state.hasToken?r.a.createElement(y,{changePage:this.changePage,saveGrid:this.saveGrid,saveAsNewGrid:this.saveAsNewGrid,page:this.state.page,gridID:this.state.gridID}):null,r.a.createElement(S,null),"login"===this.state.page?r.a.createElement("button",{onClick:function(){return e.changePage("main")}},"MAIN"):r.a.createElement("button",{onClick:function(){return e.changePage("login")}},"LOGIN"))),"main"===this.state.page?r.a.createElement(v,{gridData:this.state.gridData,updateCell:this.updateCell,columns:this.state.columns,rows:this.state.rows,size:this.state.size}):null,"login"===this.state.page?r.a.createElement(C,{changePage:this.changePage,loginUsername:this.loginUsername,changeToken:this.changeToken}):null,"dashboard"===this.state.page?r.a.createElement(O,{savedGrids:this.state.savedGrids,loadSavedGrid:this.loadSavedGrid,deleteGrid:this.deleteGrid}):null,r.a.createElement("footer",null,r.a.createElement("button",{onClick:this.createGrid}," Clear "),r.a.createElement("div",{className:"tool"},r.a.createElement("p",null,"Rows: ",this.state.rows),r.a.createElement("button",{onClick:function(){return e.minusOneRow()}},"-"),r.a.createElement("button",{onClick:function(){return e.plusOneRow()}},"+")),r.a.createElement("div",{className:"tool"},r.a.createElement("p",null,"Columns: ",this.state.columns),r.a.createElement("button",{onClick:function(){return e.minusOneColumn()}},"-"),r.a.createElement("button",{onClick:function(){return e.plusOneColumn()}},"+")),r.a.createElement("div",{className:"tool"},r.a.createElement("p",null,"Grid Size"),r.a.createElement("input",{className:"input",type:"range",min:"2",max:"3",step:".1",onChange:this.resizeGrid,value:this.size}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.097c09ad.chunk.js.map